import React, { useState } from "react";
import styles from "./socialButton.module.css";
import Tooltip from "../tooltip/tooltip";
import Snackbar from "../snackbar/snackbar";

const icons = [
  {
    title: "email",
    label: "Enviar email",
    url: "mailto:isakiangel6@gmail.com",
    svg: (
      <svg
        width="24"
        height="21"
        viewBox="0 0 24 21"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M21.6 0.400391H2.4C1.08 0.400391 0.012 1.52539 0.012 2.90039L0 17.9004C0 19.2754 1.08 20.4004 2.4 20.4004H21.6C22.92 20.4004 24 19.2754 24 17.9004V2.90039C24 1.52539 22.92 0.400391 21.6 0.400391ZM21.12 5.71289L12.636 11.2379C12.252 11.4879 11.748 11.4879 11.364 11.2379L2.88 5.71289C2.75967 5.64253 2.6543 5.54747 2.57027 5.43346C2.48623 5.31945 2.42527 5.18886 2.39109 5.0496C2.35691 4.91035 2.3502 4.76531 2.37139 4.62327C2.39257 4.48124 2.4412 4.34516 2.51434 4.22327C2.58747 4.10138 2.68359 3.99621 2.79687 3.91413C2.91015 3.83206 3.03825 3.77478 3.17339 3.74576C3.30854 3.71675 3.44794 3.7166 3.58315 3.74533C3.71835 3.77405 3.84656 3.83106 3.96 3.91289L12 9.15039L20.04 3.91289C20.1534 3.83106 20.2816 3.77405 20.4169 3.74533C20.5521 3.7166 20.6915 3.71675 20.8266 3.74576C20.9618 3.77478 21.0898 3.83206 21.2031 3.91413C21.3164 3.99621 21.4125 4.10138 21.4857 4.22327C21.5588 4.34516 21.6074 4.48124 21.6286 4.62327C21.6498 4.76531 21.6431 4.91035 21.6089 5.0496C21.5747 5.18886 21.5138 5.31945 21.4297 5.43346C21.3457 5.54747 21.2403 5.64253 21.12 5.71289Z"
          fill="black"
        />
      </svg>
    ),
  },
  {
    title: "linkedin",
    label: "LinkedIn",
    url: "https://www.linkedin.com/in/miguelacarlos/",
    svg: (
      <svg
        width="33"
        height="32"
        viewBox="0 0 33 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clipPath="url(#clip0_22_100)">
          <path
            d="M0.29718 2.292C0.29718 1.026 1.34918 0 2.64718 0H29.9472C31.2452 0 32.2972 1.026 32.2972 2.292V29.708C32.2972 30.974 31.2452 32 29.9472 32H2.64718C1.34918 32 0.29718 30.974 0.29718 29.708V2.292ZM10.1832 26.788V12.338H5.38118V26.788H10.1832ZM7.78318 10.364C9.45718 10.364 10.4992 9.256 10.4992 7.868C10.4692 6.45 9.45918 5.372 7.81518 5.372C6.17118 5.372 5.09718 6.452 5.09718 7.868C5.09718 9.256 6.13918 10.364 7.75118 10.364H7.78318ZM17.5992 26.788V18.718C17.5992 18.286 17.6312 17.854 17.7592 17.546C18.1052 16.684 18.8952 15.79 20.2232 15.79C21.9612 15.79 22.6552 17.114 22.6552 19.058V26.788H27.4572V18.5C27.4572 14.06 25.0892 11.996 21.9292 11.996C19.3812 11.996 18.2392 13.396 17.5992 14.382V14.432H17.5672L17.5992 14.382V12.338H12.7992C12.8592 13.694 12.7992 26.788 12.7992 26.788H17.5992Z"
            fill="#4557FB"
          />
        </g>
        <defs>
          <clipPath id="clip0_22_100">
            <rect
              width="32"
              height="32"
              fill="white"
              transform="translate(0.29718)"
            />
          </clipPath>
        </defs>
      </svg>
    ),
  },
  {
    title: "youtube",
    label: "YouTube",
    url: "https://www.youtube.com/@MiguelAngelCarlosRojas",
    svg: (
      <svg
        width="33"
        height="32"
        viewBox="0 0 33 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M29.2972 8.6377C28.8972 7.2377 27.8972 6.2377 26.4972 5.8377C24.2972 5.2377 16.2972 5.2377 16.2972 5.2377C16.2972 5.2377 8.29718 5.2377 6.09718 5.8377C4.69718 6.2377 3.69718 7.2377 3.29718 8.6377C2.69718 10.8377 2.69718 16.2377 2.69718 16.2377C2.69718 16.2377 2.69718 21.6377 3.29718 23.8377C3.69718 25.2377 4.69718 26.2377 6.09718 26.6377C8.29718 27.2377 16.2972 27.2377 16.2972 27.2377C16.2972 27.2377 24.2972 27.2377 26.4972 26.6377C27.8972 26.2377 28.8972 25.2377 29.2972 23.8377C29.8972 21.6377 29.8972 16.2377 29.8972 16.2377C29.8972 16.2377 29.8972 10.8377 29.2972 8.6377ZM13.2972 21.2377V11.2377L21.2972 16.2377L13.2972 21.2377Z"
          fill="#FF0000"
        />
      </svg>
    ),
  },
  {
    title: "gitlab",
    label: "GitLab",
    url: "https://gitlab.com/MiguelCarlosRojas",
    svg: (
      <svg
        width="33"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M2.294 12.853L3.164 15.04C3.322 15.453 3.149 15.92 2.781 16.137L16 23.315L29.219 16.137C29.587 15.92 29.759 15.453 29.602 15.04L28.732 12.853L16 21.789L2.294 12.853Z"
          fill="#E24329"
        />
        <path
          d="M2.294 12.853L16 21.789L28.732 12.853L25.65 4.375C25.493 3.962 25.011 3.771 24.643 3.989L16 8.964L7.357 3.989C6.989 3.771 6.507 3.962 6.35 4.375L2.294 12.853Z"
          fill="#FC6D26"
        />
        <path
          d="M16 23.315L2.781 16.137L0.682 10.776C0.524 10.363 0.698 9.896 1.066 9.679L6.35 4.375L16 10.021L25.65 4.375L30.934 9.679C31.302 9.896 31.476 10.363 31.318 10.776L29.219 16.137L16 23.315Z"
          fill="#FCA326"
        />
      </svg>
    ),
  },
  {
    title: "github",
    label: "Github",
    url: "https://github.com/MiguelCarlosRojas",
    svg: (
      <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M16 0.637695C13.8989 0.637695 11.8183 1.05155 9.87706 1.85562C7.93586 2.6597 6.17203 3.83825 4.68629 5.32399C1.68571 8.32457 0 12.3942 0 16.6377C0 23.7097 4.592 29.7097 10.944 31.8377C11.744 31.9657 12 31.4697 12 31.0377V28.3337C7.568 29.2937 6.624 26.1897 6.624 26.1897C5.888 24.3337 4.848 23.8377 4.848 23.8377C3.392 22.8457 4.96 22.8777 4.96 22.8777C6.56 22.9897 7.408 24.5257 7.408 24.5257C8.8 26.9577 11.152 26.2377 12.064 25.8537C12.208 24.8137 12.624 24.1097 13.072 23.7097C9.52 23.3097 5.792 21.9337 5.792 15.8377C5.792 14.0617 6.4 12.6377 7.44 11.5017C7.28 11.1017 6.72 9.4377 7.6 7.2777C7.6 7.2777 8.944 6.8457 12 8.9097C13.264 8.5577 14.64 8.3817 16 8.3817C17.36 8.3817 18.736 8.5577 20 8.9097C23.056 6.8457 24.4 7.2777 24.4 7.2777C25.28 9.4377 24.72 11.1017 24.56 11.5017C25.6 12.6377 26.208 14.0617 26.208 15.8377C26.208 21.9497 22.464 23.2937 18.896 23.6937C19.472 24.1897 20 25.1657 20 26.6537V31.0377C20 31.4697 20.256 31.9817 21.072 31.8377C27.424 29.6937 32 23.7097 32 16.6377C32 14.5365 31.5861 12.456 30.7821 10.5148C29.978 8.57355 28.7994 6.80972 27.3137 5.32399C25.828 3.83825 24.0641 2.6597 22.1229 1.85562C20.1817 1.05155 18.1012 0.637695 16 0.637695Z"
          fill="black"
        />
      </svg>
    ),
  },
  {
    title: "share",
    url: "",
    label: "Compartir",
    svg: (
      <svg
        width="19"
        height="24"
        viewBox="0 0 23 28"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.00065 14.0001C8.00065 14.8841 7.64946 15.732 7.02434 16.3571C6.39922 16.9822 5.55137 17.3334 4.66732 17.3334C3.78326 17.3334 2.93542 16.9822 2.3103 16.3571C1.68517 15.732 1.33398 14.8841 1.33398 14.0001C1.33398 13.116 1.68517 12.2682 2.3103 11.6431C2.93542 11.0179 3.78326 10.6667 4.66732 10.6667C5.55137 10.6667 6.39922 11.0179 7.02434 11.6431C7.64946 12.2682 8.00065 13.116 8.00065 14.0001Z"
          stroke="#0C1884"
          strokeWidth="2.5"
        />
        <path
          d="M14.6676 6.66675L8.00098 11.3334M14.6676 21.3334L8.00098 16.6667"
          stroke="#0C1884"
          strokeWidth="2.5"
          strokeLinecap="round"
        />
        <path
          d="M21.3337 22.6667C21.3337 23.5507 20.9825 24.3986 20.3573 25.0237C19.7322 25.6488 18.8844 26 18.0003 26C17.1163 26 16.2684 25.6488 15.6433 25.0237C15.0182 24.3986 14.667 23.5507 14.667 22.6667C14.667 21.7826 15.0182 20.9348 15.6433 20.3096C16.2684 19.6845 17.1163 19.3333 18.0003 19.3333C18.8844 19.3333 19.7322 19.6845 20.3573 20.3096C20.9825 20.9348 21.3337 22.6667ZM21.3337 5.33333C21.3337 6.21739 20.9825 7.06523 20.3573 7.69036C19.7322 8.31548 18.8844 8.66667 18.0003 8.66667C17.1163 8.66667 16.2684 8.31548 15.6433 7.69036C15.0182 7.06523 14.667 6.21739 14.667 5.33333C14.667 4.44928 15.0182 3.60143 15.6433 2.97631C16.2684 2.35119 17.1163 2 18.0003 2C18.8844 2 19.7322 2.35119 20.3573 2.97631C20.9825 3.60143 21.3337 5.33333Z"
          stroke="#0C1884"
          strokeWidth="2.5"
        />
      </svg>
    ),
  },
];

export default function SocialButton({
  iconName,
  type = "primary",
  handleClick,
}) {
  const social = icons.find((item) => item.title === iconName);
  const [isSnackbarVisible, setIsSnackbarVisible] = useState(false);

  const handleEmail = () => {
    navigator.clipboard.writeText("isakiangel6@gmail.com");
    setIsSnackbarVisible(true);
  };

  const handleCloseSnackbar = () => {
    setIsSnackbarVisible(false);
  };

  return (
    <Tooltip
      text={social.label}
      size="minimal"
      anchorSide={type == "secondary" ? "top" : "center"}
    >
      {iconName == "share" ? (
        <button
          className={`${styles.link} ${
            type == "secondary" ? styles.secondary : ""
          }`}
          onClick={handleClick}
          aria-label={social.label}
        >
          {social.svg}
        </button>
      ) : (
        <a
          className={`${styles.link} ${
            type == "secondary" ? styles.secondary : ""
          }`}
          href={social.url}
          rel="noreferrer"
          target={social.title != "email" ? "_blank" : null}
          onClick={social.title == "email" ? () => handleEmail() : null}
          aria-label={social.label}
        >
          {social.svg}
        </a>
      )}
      {social.title == "email" && (
        <Snackbar
          title="Email copiado"
          iconName="link"
          isVisible={isSnackbarVisible}
          onClose={handleCloseSnackbar}
        />
      )}
    </Tooltip>
  );
}
